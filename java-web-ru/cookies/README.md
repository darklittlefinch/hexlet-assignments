# Cookies

## Ссылки

Один из вариантов использования куки - хранение токена для аутентификации. В этом упражнении мы упрощенно реализуем такой механизм

* [Методы для работы с контекстом](https://javalin.io/documentation#context)

## src/main/java/exercise/controller/UsersController.java

## Задание

Реализуйте два обработчика

* POST */users* для регистрации пользователя. Обработчик принимает данные формы и устанавливает специальный токен в куке. Для генерации токена используйте метод `Security.generateToken()`. Пользователь должен сохраняться в репозитории и после этого должен происходить редирект на */users/{id}*, где `{id}` — это `id` зарегестрированного пользователя

* GET */users/{id}* страница должна показывать данные пользователя, если его токен в куке совпадает с `id` в адресе. Для этого должен извлекаться токен из куки, затем пользователь ищется по этому токену. Для поиска по токену используйте метод `findByToken()` из класса репозитория. Затем должен отрисовывает шаблон `users/show.jte` с данными пользователя. Если пользователь не совпадает по `id` или токену, должен происходить редирект на */users/new*

## src/main/java/exercise/App.java

## Задание

Добавьте в приложение роутинг для этих маршрутов

### Подсказки

* Перед началом работы загляните в шаблоны *users/build.jte* и *users/show.jte*
